{
  "flow_type": "template",
  "flow_name": "parent_list",
  "status": "released",
  "rows": [
    {
      "exclude_from_translation": true
    },
    {
      "exclude_from_translation": true
    },
    {
      "type": "begin_display_group"
    },
    {
      "type": "text",
      "value": "Add Parent to Group",
      "style_list": "color: #74777C"
    },
    {
      "type": "round_button",
      "action_list": "click | go_to: add_parent;",
      "parameter_list": "variant: information; \nicon_src: person-add-outline;",
      "condition": "!!@fields.current_access_code",
      "exclude_from_translation": true
    },
    {
      "type": "round_button",
      "action_list": "click | plh_parent_group: generate_access_code | \nparent_group_id: @field.current_group_id,\nparent_groups_data_list: parent_groups,\nparents_data_list: parents;\nclick | go_to: add_parent;",
      "parameter_list": "variant: information; \nicon_src: person-add-outline;",
      "condition": "!@fields.current_access_code",
      "exclude_from_translation": true
    },
    {
      "type": "end_display_group",
      "exclude_from_translation": true
    },
    {
      "name": "first_name",
      "value": " ",
      "exclude_from_translation": true
    },
    {
      "name": "last_name",
      "value": " ",
      "exclude_from_translation": true
    },
    {
      "type": "begin_data_items",
      "value": "parents"
    },
    {
      "type": "begin_display_group",
      "style_list": "margin-bottom: 12px;",
      "condition": "@item.group_id == @fields.current_group_id && !@item.archived",
      "comments": "@item.group_id == @fields.current_group_id && !@item.archived && (@item.co_parent_id== \"\" | @item.co_parent_name!= \"\")"
    },
    {
      "type": "begin_display_group",
      "parameter_list": "style: column",
      "style_list": "flex: 1;"
    },
    {
      "name": "first_name",
      "value": " ",
      "comments": "This makes sure undefined isnt listed",
      "exclude_from_translation": true
    },
    {
      "name": "last_name",
      "value": " ",
      "exclude_from_translation": true
    },
    {
      "name": "first_name",
      "value": "@item.rp_name",
      "exclude_from_translation": true
    },
    {
      "name": "first_name",
      "value": "@item.first_name",
      "condition": "@item.first_name",
      "exclude_from_translation": true
    },
    {
      "name": "last_name",
      "value": "@item.last_name",
      "condition": "@item.last_name",
      "exclude_from_translation": true
    },
    {
      "name": "full_name",
      "value": "@local.first_name @local.last_name",
      "exclude_from_translation": true
    },
    {
      "type": "text",
      "name": "text_@item.parent_no",
      "value": "@local.first_name @local.last_name",
      "style_list": "color: #46607F;\n",
      "condition": true,
      "exclude_from_translation": true
    },
    {
      "name": "current_parent_id",
      "value": "@item.id"
    },
    {
      "type": "begin_template",
      "name": "print_co_parent_full_name",
      "value": "print_co_parent_full_name",
      "condition": "@item.co_parent_id"
    },
    {
      "name": "current_co_parent_id",
      "value": "@item.co_parent_id"
    },
    {
      "type": "end_template"
    },
    {
      "type": "end_display_group",
      "exclude_from_translation": true
    },
    {
      "name": "add_coparent_condition",
      "value": "(@item.co_parent_id == \"\") || (@item.co_parent_id == undefined)",
      "exclude_from_translation": true
    },
    {
      "type": "round_button",
      "name": "button_co_add_@item.id",
      "action_list": "click | set_field: current_parent_no: @item.id; \nclick | set_field: current_parent_name: @local.full_name;\nclick | pop_up: add_coparent;",
      "parameter_list": "variant: information; \nicon_src: person-add-outline;",
      "condition": "@local.add_coparent_condition",
      "exclude_from_translation": true
    },
    {
      "type": "round_button",
      "name": "button_co_remove_@item.id",
      "action_list": "click | set_data |\n_list_id: parents,\n_id: @item.co_parent_id,\nco_parent_id: \"\",\nco_parent_name: \"\"; \nclick | set_data |\n_list_id: parents,\n_id: @item.id,\nco_parent_id: \"\",\nco_parent_name: \"\";\nclick| emit: force_reload;",
      "parameter_list": "variant: information; \nicon_src: person-remove-outline;",
      "condition": "!@local.add_coparent_condition",
      "exclude_from_translation": true
    },
    {
      "type": "round_button",
      "name": "button_edit_@item.id",
      "action_list": "click | set_field: current_parent_no: @item.id; \nclick | set_field: current_parent_first_name: @local.first_name;\nclick | set_field: current_parent_last_name: @local.last_name;\nclick | set_field: current_parent_text_id: @item.text_id;\nclick | go_to: edit_parent;",
      "parameter_list": "variant: information; \nicon_src: pencil-outline;",
      "condition": true,
      "exclude_from_translation": true
    },
    {
      "type": "round_button",
      "name": "button_delete_@item.id",
      "action_list": "click | set_field: current_parent_no: @item.id; \nclick | set_field: current_parent_name: @local.first_name @local.last_name;\nclick | set_field: current_coparent_id: @item.co_parent_id;\nclick | pop_up: delete_parent;",
      "parameter_list": "style: orange; \nicon_src: trash-outline;",
      "condition": true,
      "exclude_from_translation": true
    },
    {
      "type": "end_display_group"
    },
    {
      "type": "end_data_items"
    }
  ]
}